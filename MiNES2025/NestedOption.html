<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nested Sessions - Row Based Approach</title>
  <style>
    body {
      font-family: inherit;
      background-color: #f8f9fa;
      color: #333;
      line-height: 1.6;
      padding: 20px;
    }
    
    .mockup-container {
      max-width: 900px;
      margin: 0 auto;
    }
    
    h1, h2 {
      color: #333;
      margin-bottom: 20px;
    }
    
    .excel-format {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .excel-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 11px;
    }
    
    .excel-table th, .excel-table td {
      border: 1px solid #ddd;
      padding: 6px;
      text-align: left;
      vertical-align: top;
    }
    
    .excel-table th {
      background-color: #f0f0f0;
      font-weight: bold;
    }
    
    .parent-event {
      background-color: #ffe6e6;
    }
    
    .nested-event {
      background-color: #f0f8ff;
      font-style: italic;
    }
    
    .hierarchy-column {
      background-color: #e8f5e8;
    }
    
    .event-bubble {
      background-color: #ffe6e6;
      border: 2px solid #ffb3b3;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 15px;
      position: relative;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .event-bubble:hover {
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .event-bubble.expanded {
      margin-bottom: 5px;
    }
    
    .event-title {
      font-weight: 600;
      margin-bottom: 5px;
      color: #333;
    }
    
    .event-time {
      color: #666;
      margin-bottom: 10px;
    }
    
    .event-details {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid #ffb3b3;
      color: #666;
      display: none;
    }
    
    .event-bubble.expanded .event-details {
      display: block;
    }
    
    .nested-sessions {
      margin-top: 15px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 6px;
      padding: 12px;
    }
    
    .nested-sessions-header {
      font-weight: bold;
      color: #333;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
    }
    
    .session-icon {
      width: 16px;
      height: 16px;
      margin-right: 6px;
      background: #ffb3b3;
      border-radius: 3px;
    }
    
    .nested-session {
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 4px;
      padding: 10px;
      margin-bottom: 8px;
      transition: all 0.2s;
    }
    
    .nested-session:hover {
      border-color: #ffb3b3;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    .session-title {
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
      font-size: 14px;
    }
    
    .session-description {
      font-size: 13px;
      color: #666;
      margin-bottom: 6px;
      line-height: 1.4;
    }
    
    .session-link {
      display: inline-block;
      background: #ffb3b3;
      color: white;
      padding: 4px 10px;
      border-radius: 4px;
      text-decoration: none;
      font-size: 12px;
      font-weight: 500;
      transition: background-color 0.2s;
    }
    
    .session-link:hover {
      background: #ff9999;
      text-decoration: none;
      color: white;
    }
    
    .expand-indicator {
      position: absolute;
      right: 12px;
      top: 12px;
      font-size: 12px;
      color: #666;
    }
    
    .mockup-section {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .click-hint {
      background: #e8f4fd;
      border-left: 4px solid #0066cc;
      padding: 10px;
      margin-bottom: 15px;
      font-style: italic;
    }
    
    .approach-comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin: 20px 0;
    }
    
    .approach {
      padding: 15px;
      border-radius: 6px;
      border: 2px solid #ddd;
    }
    
    .approach.recommended {
      border-color: #4CAF50;
      background: #f8fff8;
    }
    
    .approach h4 {
      color: #333;
      margin-bottom: 10px;
    }
    
    .pros-cons {
      font-size: 13px;
    }
    
    .pros-cons .pros {
      color: #4CAF50;
      margin-bottom: 8px;
    }
    
    .pros-cons .cons {
      color: #f44336;
    }
    
    .hierarchy-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin: 15px 0;
    }
    
    .hierarchy-option {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      padding: 12px;
      border-radius: 6px;
      text-align: center;
    }
    
    .hierarchy-option.recommended {
      background: #e8f5e9;
      border-color: #4CAF50;
    }
  </style>
</head>
<body>
  <div class="mockup-container">
    <h1>🎯 Nested Sessions - Row-Based Approach</h1>
    
    <div class="mockup-section">
      <h2>📊 Excel File Format Options</h2>
      
      <div class="hierarchy-options">
        <div class="hierarchy-option recommended">
          <strong>Option A: Parent-Child Column</strong><br>
          <small>Add "Parent Event" column</small>
        </div>
        <div class="hierarchy-option">
          <strong>Option B: Hierarchy Level</strong><br>
          <small>Add "Level" column (0=Parent, 1=Child)</small>
        </div>
        <div class="hierarchy-option">
          <strong>Option C: Event Name Prefix</strong><br>
          <small>Use "  - Session Name" format</small>
        </div>
      </div>
      
      <h3>📋 Recommended: Option A - Parent-Child Relationship</h3>
      <table class="excel-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Event/Function</th>
            <th>Time Start</th>
            <th>Time End</th>
            <th>Event Details</th>
            <th>Location</th>
            <th>Event Type</th>
            <th class="hierarchy-column">Parent Event</th>
            <th class="hierarchy-column">PDF Link</th>
          </tr>
        </thead>
        <tbody>
          <tr class="parent-event">
            <td>Monday, December 8</td>
            <td>Technical Session A</td>
            <td>9:00 AM</td>
            <td>10:30 AM</td>
            <td>Morning technical presentations</td>
            <td>Main Hall</td>
            <td>Technical Program</td>
            <td class="hierarchy-column"></td>
            <td class="hierarchy-column"></td>
          </tr>
          <tr class="nested-event">
            <td></td>
            <td>Mining Innovation Advances</td>
            <td></td>
            <td></td>
            <td>Latest advances in autonomous mining equipment and AI-driven operations</td>
            <td></td>
            <td>Session</td>
            <td class="hierarchy-column">Technical Session A</td>
            <td class="hierarchy-column">innovation.pdf</td>
          </tr>
          <tr class="nested-event">
            <td></td>
            <td>Enhanced Safety Protocols</td>
            <td></td>
            <td></td>
            <td>New safety procedures and risk management strategies</td>
            <td></td>
            <td>Session</td>
            <td class="hierarchy-column">Technical Session A</td>
            <td class="hierarchy-column">safety.pdf</td>
          </tr>
          <tr class="nested-event">
            <td></td>
            <td>Environmental Impact Reduction</td>
            <td></td>
            <td></td>
            <td>Sustainable mining practices and restoration techniques</td>
            <td></td>
            <td>Session</td>
            <td class="hierarchy-column">Technical Session A</td>
            <td class="hierarchy-column">environment.pdf</td>
          </tr>
          <tr class="parent-event">
            <td>Monday, December 8</td>
            <td>Coffee Break</td>
            <td>10:30 AM</td>
            <td>11:00 AM</td>
            <td>Networking opportunity</td>
            <td>Foyer</td>
            <td>All Conference Activities</td>
            <td class="hierarchy-column"></td>
            <td class="hierarchy-column"></td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="mockup-section">
      <h2>🎨 How It Would Look in the UI</h2>
      
      <div class="click-hint">
        💡 <strong>Click the Technical Session event below</strong> to see how nested sessions would appear!
      </div>
      
      <!-- Regular event (no nested sessions) -->
      <div class="event-bubble">
        <div class="expand-indicator">▼</div>
        <div class="event-title">
          <span>Registration</span>
        </div>
        <div class="event-time">8:00 AM - 9:00 AM</div>
      </div>
      
      <!-- Technical Program event with nested sessions -->
      <div class="event-bubble expanded" onclick="toggleExpand(this)">
        <div class="expand-indicator">▲</div>
        <div class="event-title">
          <span>Technical Session A - Morning Presentations</span>
        </div>
        <div class="event-time">9:00 AM - 10:30 AM</div>
        
        <div class="event-details">
          <div><strong>Event Details:</strong> Morning technical presentations covering latest industry advances</div>
          <div><strong>Location:</strong> Main Hall</div>
          <div><strong>Event Type:</strong> Technical Program</div>
          
          <!-- NESTED SESSIONS INSIDE THE EVENT BUBBLE -->
          <div class="nested-sessions">
            <div class="nested-sessions-header">
              <div class="session-icon"></div>
              Session Presentations (3)
            </div>
            
            <div class="nested-session">
              <div class="session-title">Mining Technology Innovation</div>
              <div class="session-description">Latest advances in autonomous mining equipment and AI-driven operations</div>
              <a href="#" class="session-link" onclick="event.stopPropagation();">📄 View PDF</a>
            </div>
            
            <div class="nested-session">
              <div class="session-title">Enhanced Safety Protocols</div>
              <div class="session-description">New safety procedures and risk management strategies for modern mining</div>
              <a href="#" class="session-link" onclick="event.stopPropagation();">📄 View PDF</a>
            </div>
            
            <div class="nested-session">
              <div class="session-title">Environmental Impact Reduction</div>
              <div class="session-description">Sustainable mining practices and environmental restoration techniques</div>
              <a href="#" class="session-link" onclick="event.stopPropagation();">📄 View PDF</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Next regular event -->
      <div class="event-bubble">
        <div class="expand-indicator">▼</div>
        <div class="event-title">
          <span>Coffee Break & Networking</span>
        </div>
        <div class="event-time">10:30 AM - 11:00 AM</div>
      </div>
    </div>
    
    <div class="approach-comparison">
      <div class="approach">
        <h4>👎 Column-Based Approach</h4>
        <div class="pros-cons">
          <div class="cons"><strong>Cons:</strong></div>
          <div class="cons">• Limited number of sessions</div>
          <div class="cons">• Many empty columns</div>
          <div class="cons">• Hard to maintain</div>
          <div class="cons">• Doesn't scale well</div>
        </div>
      </div>
      
      <div class="approach recommended">
        <h4>👍 Row-Based Approach (Recommended)</h4>
        <div class="pros-cons">
          <div class="pros"><strong>Pros:</strong></div>
          <div class="pros">• Unlimited sessions per event</div>
          <div class="pros">• Clean, scalable data structure</div>
          <div class="pros">• Easy to maintain</div>
          <div class="pros">• Each session is a full row with all details</div>
        </div>
      </div>
    </div>
    
    <div class="mockup-section">
      <h2>⚡ Implementation Logic</h2>
      <ol>
        <li><strong>Parse Excel:</strong> Group rows by "Parent Event" column</li>
        <li><strong>Build Hierarchy:</strong> Parent events contain array of child sessions</li>
        <li><strong>Render UI:</strong> Show parent event, then nested sessions below when expanded</li>
        <li><strong>Visual Connection:</strong> Use indentation and connecting lines</li>
        <li><strong>Search:</strong> Sessions searchable independently</li>
        <li><strong>PDF Export:</strong> Include sessions when parent is expanded</li>
      </ol>
      
      <h3>🔧 Data Processing Example:</h3>
      <pre style="background: #f8f9fa; padding: 12px; border-radius: 4px; font-size: 12px; overflow-x: auto;">
// After parsing Excel
const processedEvents = {
  "Technical Session A": {
    parentEvent: {...eventData},
    sessions: [
      {title: "Mining Innovation", description: "...", pdfLink: "innovation.pdf"},
      {title: "Safety Protocols", description: "...", pdfLink: "safety.pdf"},
      {title: "Environmental Impact", description: "...", pdfLink: "environment.pdf"}
    ]
  }
}</pre>
    </div>
  </div>

  <script>
    function toggleExpand(element) {
      element.classList.toggle('expanded');
      const indicator = element.querySelector('.expand-indicator');
      indicator.textContent = element.classList.contains('expanded') ? '▲' : '▼';
    }
  </script>
</body>
</html>